{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <main class="container">
        <div class="row">
            <h3 class="fst-italic pb-4 mb-4 border-bottom">Tous les tickets</h3>
            <div style="display: flex; justify-content: between; margin-bottom: 2rem;">
            {% for category in categories %}
                <a class="btn btn-secondary" style="margin-right: 2rem;" href="{{ path('app_category', {'id': category.id}) }}">{{ category.name }}</a>
            {% endfor %}
            </div>

            {% for ticket in tickets %}
                <div class="card" style="width: 18rem; margin-right: 2rem;">
                    <div class="card-body">
                        <h5 class="card-title">{{ ticket.title }}</h5>
                        <h5 class="card-title text-secondary">{{ ticket.category.name }}</h5>
                        {% if ticket.status %}
                        <a class="btn btn-primary" href="/ticket/{{ ticket.id }}">Voir le ticket</a>
                        <span class="text-success float-end">Ouvert</span>
                        {% else %}
                        <a class="btn btn-primary disabled" href="/ticket/{{ ticket.id }}">Voir le ticket</a>
                        <span class="text-danger float-end">Ferm√©</span>
                        {% endif %}
                    </div>
                </div>
            {% else %}
            <span>Aucun ticket pour le moment</span>
            {% endfor %}
        </div>
    </main>
{% endblock %}
